{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../services/order.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction AdminOrdersComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"div\", 6)(2, \"span\", 7);\n    i0.ɵɵtext(3, \"Loading...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AdminOrdersComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.error, \" \");\n  }\n}\nfunction AdminOrdersComponent_div_5_tr_19_button_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function AdminOrdersComponent_div_5_tr_19_button_18_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const order_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.updateOrderStatus(order_r4.id, \"processing\"));\n    });\n    i0.ɵɵtext(1, \" Process \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdminOrdersComponent_div_5_tr_19_button_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function AdminOrdersComponent_div_5_tr_19_button_19_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const order_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.updateOrderStatus(order_r4.id, \"shipped\"));\n    });\n    i0.ɵɵtext(1, \" Ship \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdminOrdersComponent_div_5_tr_19_button_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function AdminOrdersComponent_div_5_tr_19_button_20_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const order_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.cancelOrder(order_r4.id));\n    });\n    i0.ɵɵtext(1, \" Cancel \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/admin/orders\", a1];\n};\nfunction AdminOrdersComponent_div_5_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"span\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"td\")(15, \"div\", 14)(16, \"button\", 15);\n    i0.ɵɵtext(17, \" View \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, AdminOrdersComponent_div_5_tr_19_button_18_Template, 2, 0, \"button\", 16);\n    i0.ɵɵtemplate(19, AdminOrdersComponent_div_5_tr_19_button_19_Template, 2, 0, \"button\", 17);\n    i0.ɵɵtemplate(20, AdminOrdersComponent_div_5_tr_19_button_20_Template, 2, 0, \"button\", 18);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const order_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"#\", order_r4.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 11, order_r4.createdAt));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(order_r4.userId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(10, 13, order_r4.total));\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMap(\"badge \" + ctx_r3.getStatusBadgeClass(order_r4.status));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", order_r4.status, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(15, _c0, order_r4.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", order_r4.status === \"pending\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", order_r4.status === \"processing\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", order_r4.status === \"pending\" || order_r4.status === \"processing\");\n  }\n}\nfunction AdminOrdersComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"div\", 10)(2, \"div\", 11)(3, \"table\", 12)(4, \"thead\")(5, \"tr\")(6, \"th\");\n    i0.ɵɵtext(7, \"Order ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Customer\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Total\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\");\n    i0.ɵɵtext(17, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(18, \"tbody\");\n    i0.ɵɵtemplate(19, AdminOrdersComponent_div_5_tr_19_Template, 21, 17, \"tr\", 13);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(19);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.orders);\n  }\n}\nclass AdminOrdersComponent {\n  constructor(orderService) {\n    this.orderService = orderService;\n    this.orders = [];\n    this.loading = true;\n    this.error = null;\n  }\n  ngOnInit() {\n    this.loadOrders();\n  }\n  loadOrders() {\n    this.loading = true;\n    this.error = null;\n    this.orderService.getOrders().subscribe({\n      next: orders => {\n        this.orders = orders;\n        this.loading = false;\n      },\n      error: error => {\n        this.error = 'Failed to load orders. Please try again later.';\n        this.loading = false;\n      }\n    });\n  }\n  updateOrderStatus(orderId, status) {\n    this.orderService.updateOrderStatus(orderId, status).subscribe({\n      next: () => {\n        this.loadOrders();\n      },\n      error: error => {\n        this.error = 'Failed to update order status. Please try again later.';\n      }\n    });\n  }\n  cancelOrder(orderId) {\n    if (confirm('Are you sure you want to cancel this order?')) {\n      this.orderService.cancelOrder(orderId).subscribe({\n        next: () => {\n          this.loadOrders();\n        },\n        error: error => {\n          this.error = 'Failed to cancel order. Please try again later.';\n        }\n      });\n    }\n  }\n  getStatusBadgeClass(status) {\n    switch (status.toLowerCase()) {\n      case 'pending':\n        return 'badge-pending';\n      case 'processing':\n        return 'badge-processing';\n      case 'shipped':\n        return 'badge-shipped';\n      case 'delivered':\n        return 'badge-delivered';\n      case 'cancelled':\n        return 'badge-cancelled';\n      default:\n        return 'badge-secondary';\n    }\n  }\n  static {\n    this.ɵfac = function AdminOrdersComponent_Factory(t) {\n      return new (t || AdminOrdersComponent)(i0.ɵɵdirectiveInject(i1.OrderService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AdminOrdersComponent,\n      selectors: [[\"app-admin-orders\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 6,\n      vars: 3,\n      consts: [[1, \"container\"], [1, \"mb-4\"], [\"class\", \"text-center\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"class\", \"card\", 4, \"ngIf\"], [1, \"text-center\"], [\"role\", \"status\", 1, \"spinner-border\"], [1, \"visually-hidden\"], [1, \"alert\", \"alert-danger\"], [1, \"card\"], [1, \"card-body\"], [1, \"table-responsive\"], [1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn-group\"], [1, \"btn\", \"btn-sm\", \"btn-outline-primary\", 3, \"routerLink\"], [\"class\", \"btn btn-sm btn-outline-success\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-sm btn-outline-info\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-sm btn-outline-danger\", 3, \"click\", 4, \"ngIf\"], [1, \"btn\", \"btn-sm\", \"btn-outline-success\", 3, \"click\"], [1, \"btn\", \"btn-sm\", \"btn-outline-info\", 3, \"click\"], [1, \"btn\", \"btn-sm\", \"btn-outline-danger\", 3, \"click\"]],\n      template: function AdminOrdersComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.ɵɵtext(2, \"Order Management\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, AdminOrdersComponent_div_3_Template, 4, 0, \"div\", 2);\n          i0.ɵɵtemplate(4, AdminOrdersComponent_div_4_Template, 2, 1, \"div\", 3);\n          i0.ɵɵtemplate(5, AdminOrdersComponent_div_5_Template, 20, 1, \"div\", 4);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.error);\n        }\n      },\n      dependencies: [CommonModule, i2.NgForOf, i2.NgIf, i2.CurrencyPipe, i2.DatePipe, RouterModule, i3.RouterLink],\n      styles: [\".badge[_ngcontent-%COMP%] {\\n      font-size: 0.9em;\\n      padding: 0.5em 0.8em;\\n    }\\n    .badge-pending[_ngcontent-%COMP%] { background-color: #ffc107; }\\n    .badge-processing[_ngcontent-%COMP%] { background-color: #17a2b8; }\\n    .badge-shipped[_ngcontent-%COMP%] { background-color: #28a745; }\\n    .badge-delivered[_ngcontent-%COMP%] { background-color: #6c757d; }\\n    .badge-cancelled[_ngcontent-%COMP%] { background-color: #dc3545; }\\n    .btn-group[_ngcontent-%COMP%] {\\n      gap: 0.25rem;\\n    }\"]\n    });\n  }\n}\nexport { AdminOrdersComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}